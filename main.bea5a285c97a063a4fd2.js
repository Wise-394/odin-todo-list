(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var o=t.g.document;if(!e&&o&&(o.currentScript&&"SCRIPT"===o.currentScript.tagName.toUpperCase()&&(e=o.currentScript.src),!e)){var i=o.getElementsByTagName("script");if(i.length)for(var s=i.length-1;s>-1&&(!e||!/^http(s?):/.test(e));)e=i[s--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();class e{constructor(t){this.title=t.title,this.description=t.description,this.state=t.state,this.dueDate=t.dueDate,this.priority=t.priority,this.project=t.project??""}}class o{static#t=[];static createTodoItem(t){const o=new e(t);this.#t.push(o)}static setTodoItemArray(t){Array.isArray(t)?this.#t=t:this.#t=[]}static getallTodoItemArray(){return this.#t}static getTodoItemArray(t="all"){return this.#t.map((t,e)=>({item:t,index:e})).filter(({item:e})=>"all"===t||e.project===t)}static getTodoItem(t){return this.#t[t]}static editTodoItem(t,o){this.#t[o]=new e(t)}static setState(t,e){this.#t[t].state=e}static deleteTodoItem(t){return this.#t.splice(t,1)}}const i=t.p+"f7f9b36d6e8da120b8b3.png",s=t.p+"5e713373e9fae044caaa.png";class r{static#e=document.querySelector("#open-new-modal");static#o=document.querySelector("form");static#i=document.querySelector("#modal");static#s=document.querySelector(".close-modal-button");static#r=document.querySelector("#modal h2");static#a=document.querySelector("#title");static#c=document.querySelector("#description");static#d=document.querySelector("#state");static#n=document.querySelector("#due-date");static#l=document.querySelector("#priority");static#m=document.querySelector("#project");static#h=document.querySelector("#action-button");static init(){this.#e.addEventListener("click",()=>this.#u()),this.#s.addEventListener("click",()=>this.#p()),this.#i.addEventListener("submit",t=>this.#y(t))}static#u(){this.#h.dataset.state="new-todo",this.#r.textContent="New Todo",this.#h.textContent="add",this.#i.showModal()}static#T(t){this.#r.textContent="Edit Todo";const e=d.getTodoItem(t);this.#a.value=e.title,this.#c.value=e.description,this.#d.value=e.state,this.#n.value=e.dueDate,this.#l.value=e.priority,this.#m.value=e.project,this.#h.textContent="edit",this.#h.dataset.state="edit-todo",this.#h.dataset.index=t,this.#i.showModal()}static#p(){this.#h.dataset.state="",this.#h.dataset.index="",this.#o.reset(),this.#i.close()}static#f(){const t=new FormData(this.#o);return{title:t.get("title"),description:t.get("description"),state:t.get("state"),dueDate:t.get("due-date"),priority:t.get("priority"),project:""===t.get("project")?"":t.get("project")}}static#g(){const t=this.#f();d.newTodoItem(t),this.#p()}static#j(){const t=this.#h.dataset.index,e=this.#f();d.editTodoItem(e,t),this.#p()}static#y(t){switch(t.preventDefault(),this.#h.dataset.state){case"new-todo":this.#g();break;case"edit-todo":this.#j()}}static#w(t,e){d.setStateTodoItem(t,e)}static#I(t){d.deleteTodoItem(t)}static displayTodoList(t){const e=document.querySelector(".todo-list-container");e.innerHTML="",t.forEach(({item:t,index:o})=>{const r=document.createElement("div");r.className="todo-item-container",r.style.borderLeft=`10px solid ${this.getPriorityColor(t.priority)}`,r.dataset.id=o;const a=document.createElement("div");r.appendChild(a);const c=document.createElement("p");c.textContent=`${t.title}`,c.className="todo-title",a.appendChild(c);const d=document.createElement("button");d.className="delete-todo-item",d.addEventListener("click",()=>this.#I(o)),d.className="todo-delete-button";const n=document.createElement("img");n.src=i,d.appendChild(n),a.appendChild(d);const l=document.createElement("p");l.textContent=`${t.description}`,l.className="todo-description",r.appendChild(l);const m=document.createElement("p");m.textContent=`${t.dueDate}`,m.className="todo-due-date",r.appendChild(m);const h=document.createElement("p");h.textContent=`Project: ${t.project}`,h.className="todo-project",r.appendChild(h);const u=document.createElement("div");r.appendChild(u);const p=document.createElement("input");p.type="checkbox",p.checked="finished"===t.state,p.addEventListener("change",()=>this.#w(o,t.state)),p.className="todo-checkbox",u.appendChild(p);const y=document.createElement("button");y.className="show-edit-modal",y.addEventListener("click",()=>this.#T(o)),y.className="todo-edit-button";const T=document.createElement("img");T.src=s,y.appendChild(T),u.appendChild(y),e.appendChild(r)})}static getPriorityColor(t){switch(t){case"high":return"var(--high-priority)";case"medium":return"var(--med-priority)";default:return"var(--low-priority)"}}static displayProjectList(t){const e=document.querySelector(".project-container");e.innerHTML="",t.forEach(t=>{const o=document.createElement("button");o.addEventListener("click",()=>d.setCurrentProjectTab(t)),o.textContent=t,e.appendChild(o)})}static projectTabSelected(){}}class a{static#L=["All"];static setProject(t){t.forEach(t=>{this.#L.includes(t)||this.#L.push(t)})}static getProject(){return this.#L}static deleteProject(){this.#L=["all"]}}class c{static setTodoList(t){localStorage.setItem("todoList",JSON.stringify(t))}static getTodoList(){const t=localStorage.getItem("todoList");if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e:[]}}class d{static#A="all";static displayTodoList(){const t=o.getTodoItemArray(this.#A);r.displayTodoList(t)}static newTodoItem(t){o.createTodoItem(t),this.#b(),this.updateProjectList(),this.refreshView()}static getTodoItem(t){return o.getTodoItem(t)}static editTodoItem(t,e){o.editTodoItem(t,e),this.#b(),this.updateProjectList(),this.#S(),this.refreshView()}static setStateTodoItem(t,e){const i="finished"===e?"unfinished":"finished";o.setState(t,i),this.#b(),this.updateProjectList(),this.refreshView()}static deleteTodoItem(t){o.deleteTodoItem(t),this.#b(),this.updateProjectList(),this.#S(),this.refreshView()}static refreshView(){this.displayTodoList(),this.displayProjectList()}static displayProjectList(){r.displayProjectList(a.getProject())}static#S(){a.getProject().includes(this.#A)||this.setCurrentProjectTab("all")}static updateProjectList(){a.deleteProject();const t=o.getTodoItemArray(),e=[...new Set(t.map(t=>t.item.project).filter(t=>t&&""!==t.trim()))];a.setProject(e)}static getCurrentProjectTab(){return this.#A}static setCurrentProjectTab(t){this.#A=t,this.refreshView()}static#b(){const t=o.getallTodoItemArray();c.setTodoList(t)}static loadTodoList(){let t=c.getTodoList();t&&0!==t.length?o.setTodoItemArray(t):(t=this.#P(),o.setTodoItemArray(t),this.#b()),this.refreshView()}static#P(){return[new e({title:"Welcome to ToDo",description:"This is a placeholder task.",project:"",dueDate:"2024-09-09",priority:"low",state:"unfinished"}),new e({title:"Do my homework",description:"Do my english homework activity 2.",project:"school",dueDate:"2024-09-09",priority:"high",state:"unfinished"}),new e({title:"Clean my room",description:"My room is dirty, I need to clean it",project:"home",dueDate:"2024-09-09",priority:"medium",state:"unfinished"})]}}r.init(),d.loadTodoList(),d.updateProjectList(),d.refreshView()})();